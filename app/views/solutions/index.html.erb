<h1>Solutions for <%= link_to "#{@problem}", @problem %></h1>

<h2>People You Follow</h2>

<div class="solutions">
  <% @followed_users.each do |user| %>

    <div class="solution">
      <% if solution = Solution.first(conditions: { problem_id: @problem.id, user_id: user.id }) %>
        <%= render solution %>
      <% else %>
        <h3><%= user %>'s Solution</h3>
        <p><%= user %> has not solved this problem.</p>
      <% end -%>
    </div>

  <% end -%>
</div>

<hr/>
<h2>Top Solutions</h2>

<div class="solutions">
  <% @top_solutions.each do |solution| %>

    <div class="solution">
      <%= render solution %>
    </div>

  <% end -%>
</div>

<% if solution = Solution.first(conditions: { user_id: current_user.id, problem_id: @problem.id }) %>
  <hr/>
  <div class="solution" id="your-solution">
    <%= render solution, title: "Your Solution" %>
  </div>
<% end -%>

<br/>

<%= link_to "Back to Problem", problem_path(@problem) %>
