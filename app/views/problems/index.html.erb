<h1><%='Unapproved ' if (params[:action] == 'unapproved') -%>Problems</h1>

<table id="problems">
  <tr>
    <th>Title</th>
    <th>Instructions</th>
    <th>Difficulty</th>
    <th>Submitted By</th>
    <th>Solutions</th>
    <th>Solved</th>
  </tr>

<% @problems.each do |problem| %>
  <tr class="problem <%= 'solved' if problem.solved?(current_user) %>" id="<%= problem.id %>">
    <td><%= problem.title %></td>
    <td><%= truncate(problem.instructions, length: 50) %></td>
    <td><%= problem.difficulty.titleize %></td>
    <td><%= problem.creator %></td>
    <td><%= problem.solutions.count %></td>
    <td class="solved-mark"><%= problem.solved?(current_user) ? image_tag("check.png") : "" %></td>
  </tr>
<% end %>
</table>

<% if current_user %>
  <%= link_to 'Submit a problem', new_problem_path, id: 'new_problem' %>
<% end -%>
